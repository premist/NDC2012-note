# NDC 2012 Note
=======
## 개발단계에서 게임해킹 대비하기 [게임개발보안]

### *강사: 이재준 (한국인터넷진흥원)*

주로 게임 컨퍼런스를 돌아다니다 보면 게임 보안 이슈를 이야기하는 경우가 한두번 있다. 개발자 입장에서 보안 이슈를 이야기 하고자 한다.

#### 게임 보안의 패러다임

1. 1세대 해킹 기법
	* 파일 크랙 - 주로 실행 파일
	* 메모리 조작 - GW32
2. 2세대 해킹 기법
	a. 서버
		* 게임소스 탈취 -> 프리서버 
		* DoS, Worm, Packet Reply
		* Non-client Bot
	b. 클라이언트
		* 스피드핵
		* 메모리/파일 변조 (DLL Injection)
		* 패킷 변조
3. 3세대 해킹 기법
	* 새로운 이슈들의 등장 
		* 웹 보안
		* 플랫폼의 OpenAPI
		* 플랫폼 간의 데이터 통신
		* 미들웨어 취약점 (플래시 취약점 등)
	* 접근성이 용이해짐(?)
		* 누구나 쉽게 해킹 도구 획득 가능
		* 검색어 금지 등은 사후 정책적 관리임 - 어차피 이런 사이트들은 검색봇을 막지만 검색해보면 다 나옴. 특히 유료 해킹툴 사이트들.
		* 프로그래밍 언어 지식만 있으면 핵 제작 어렵지 않음.
		* 각종 해킹 지식이 온라인 상에 존재.

4. SDL 이용
	* 일반적인 개발 방법론과 다르게 보안을 중요하게 다루는 방법론.
	* 마이크로소프트는 MS-SDL(Software Development Lifecycle)을 사용, 비스타, IE7부터 보안 이슈가 XP, IE6에 비해 많이 감소. (XP: 115, Vista: 66)
	* SDL에 따른 오류 수정에 드는 비용. - 흔한 SE의 오류 수정 비용 그래프.
	* 이제 보안의 책임은 프로그래머도 져야 한다!
5. 게임 개발 보안
	* 요즘은 컴파일러, IDE가 첨삭 지도해줌.
	* S-SDLC
		* 사전 소프트웨어 위협 분석
		
		게임의 경우 장르마다 대비해야 할 핵이 다름. FPS는 조준핵, RPG는 오토, 스피드핵 등.	
		플랫폼 분석: 웹 기반 통신, 클라이언트/서버 통신, 소셜 게임(+= 웹 보안)	
		대응: 봇 방지: 캡챠, 패턴 리포트, 스피드핵: 시간함수 및 로그 자동분석 리포트, 웹 기반
		* 보안 요구사항 정의
		* 위협 모델의 적절성 평가
		* 시큐어 코딩 / 정적 분석
		* 보안기능 테스트 / 취약점 테스트
		* 안정된 환경설정 / 설치
		* 안정된 운영
	* 가이드 선택
		* 보유하고 있는(?) 취약점 디비에서 플랫폼/개발언어 등에 맞는 항목을 선택.
		
		예) 7 Kingdom
		1. 입력 데이터 검증 및 표현
		2. API abuse
		3. security features
		4. time and state (base condition 관련)
		5. 에러처리
		6. 코드품질
		7. 캡슐화
		* KISA는 약 1600개의 취약점을 가진 DB 보유.
		
		예) 정수 오버플로우
		* 코드 리뷰
			* 수동식 - 눈으로 보기
			* 정적 도구 활용 - 크롤링
			
			도구는 상용 제품도 있고, KISA 자체 개발한 것도 있음.
			
			그런데 오탐이 있으면, 결과를 수동 리뷰함. 외부 라이브러리나 프레임워크에서 자체검증하는 경우도 있지만, 그렇지 않을 경우 취약점을 찾아주고 소스코드를 돌려줌.
		* 리뷰 후 가이드
			* 취약한 암호 보완 요구 - 문자열 길이, 특수 문자 사용 등
		* 설계 단계에서 보안 취약점을 수정하는 게 비용 절감 등에 있어서 좋다. - SE 교재에도 같은 이야기가 나옵니다.

### 세션 끝. 질답 시간
* PT 공유는 어렵고, 자료는 겹치는 부분이 많으나, 해외 사이트에서 주로 수집했기에 원하시는 경우는 개인적으로 주소를 위치를 알려드릴 수 있음.
* 게임*드 같은 거 뚫으면 쉬운데, 엄밀히 말하면 이런 녀석들은 사후 관리에 해당함. 세션 내용은 개발 단계에서 고려하라는 것임. 울나라는 개발 보안에 대한 인식이 별로여서 사후약방문 식 처리가 대부분.
* 일반 개발방법론 대비 효율성? 모의 해킹이나 퍼지 테스팅도 하는데, 고치라는 부분만 고쳐서 다른 쪽에서 뚫리는 경우를 자주 봄.
* 동적 분석 대 정적 분석? 높으신 분 입장에선 동적 분석이 더 좋아보임. 비용 산정 면에서.
* SQL 인젝션에 대한 설명. 아이디, 비밀번호 받을 때 입력값 검증을 하지 않으면 SQL 명령어가 그대로 DB에 들어가 실행되어 손쉽게 관리자 권한 획득 가능. 
